<div class="bg-gray-900 w-full h-20 fixed top-0 flex items-center" style="margin-left: -16px; justify-content: start;">
  <h1 class="text-2xl font-bold text-white ml-9 flex items-center">
    <i class="bi bi-pen mr-4"></i>Edit Device</h1>
</div>

<!-- Header -->

<div class="flex flex-col items-center lg:flex-row lg:items-start lg:justify-center p-6 space-y-4 lg:space-y-0 lg:space-x-6 mt-20">
  <div class="w-full max-w-6xl bg-white shadow-lg rounded-lg p-8">
    <h2 class="text-2xl font-bold mb-8 text-left">Edit Device</h2>

    <!-- Form -->
    <form #deviceForm="ngForm" (ngSubmit)="confirmEdit()" class="space-y-4">
      <div class="grid grid-cols-1 sm:grid-cols-4 gap-6">

        <div>
          <label for="id"class="block text-sm font-medium text-gray-700">Device ID</label>
          <input type="text" id="id" [(ngModel)]="id" name="id" required
                 class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- Product Type Field -->
        <div>
          <label for="productType" class="block text-sm font-medium text-gray-700">Product Type</label>
          <select id="productType" [(ngModel)]="productType" name="productType" required
                  (change)="onProductTypeChange()"
                  class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="" disabled></option>
            <option value="Monitor">Monitor</option>
            <option value="Television">Television</option>
            <option value="Projector">Projector</option>
          </select>
        </div>

        <!-- Brand Field -->
        <div>
          <label for="brand" class="block text-sm font-medium text-gray-700">Brand</label>
          <input type="text" id="brand" [(ngModel)]="brand" name="brand"
                 class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- Display Size Field -->
        <div>
          <label for="displaySize" class="block text-sm font-medium text-gray-700">Display Size</label>
          <input type="text" id="displaySize" [(ngModel)]="displaySize" name="displaySize"
                 class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <div>
          <label for="maxResolutions" class="block text-sm font-medium text-gray-700">Max Resolutions</label>
          <select id="maxResolutions" type="text" [(ngModel)]="maxResolutions" name="maxResolutions"
                  class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="" disabled></option>
            <option *ngFor="let tech of filteredResolutionsOptions" [value]="tech"> {{ tech }} </option>
          </select>
        </div>

        <div>
          <label for="displayTech" class="block text-sm font-medium text-gray-700">Display Technology</label>
          <select id="displayTech" [(ngModel)]="displayTech" name="displayTech"
                  [disabled]="!productType"
                  class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="" disabled></option>
            <option *ngFor="let tech of filteredDisplayTechOptions" [value]="tech">{{ tech }}</option>
          </select>
        </div>

        <div>
          <label for="stock" class="block text-sm font-medium text-gray-700">Stock</label>
          <input type="text" id="stock" [(ngModel)]="stock" name="stock" required class="form-control"
                 class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- Pixel Resolutions Field -->
        <div>
          <label for="pixelResolutions" class="block text-sm font-medium text-gray-700">Pixel Resolutions</label>
          <input type="text" id="pixelResolutions" [(ngModel)]="pixelResolutions" name="pixelResolutions" class="form-control"
                 class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <div>
          <label for="connections" class="block text-sm font-medium text-gray-700">Connections</label>
          <input type="text" id="connections" [(ngModel)]="connections" name="connections" class="form-control"
                 class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- Output Field -->
        <div>
          <label for="output" class="block text-sm font-medium text-gray-700">Output</label>
          <input type="text" id="output" [(ngModel)]="output" name="output" class="form-control"
                 class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- Speaker Field -->
        <div>
          <label for="speaker" class="block text-sm font-medium text-gray-700">Speaker</label>
          <select type="text" id="speaker" [(ngModel)]="speaker" name="speaker" class="form-control"
                  class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="" disabled></option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>

        <!-- Smart Field -->
        <div>
          <label for="smart" class="block text-sm font-medium text-gray-700">Smart</label>
          <select type="text" id="smart" [(ngModel)]="smart" name="smart" class="form-control"
                  class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="" disabled></option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>

        <!-- Operating System Field -->
        <div>
          <label for="os" class="block text-sm font-medium text-gray-700">Operating System</label>
          <input type="text" id="os" [(ngModel)]="os" name="os" class="form-control"
                 class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- Bluetooth Field -->
        <div>
          <label for="bluetooth" class="block text-sm font-medium text-gray-700">Bluetooth</label>
          <select type="text" id="bluetooth" [(ngModel)]="bluetooth" name="bluetooth" class="form-control"
                  class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="" disabled></option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>

        <!-- Wireless Connections Field -->
        <div>
          <label for="wirelessConnections" class="block text-sm font-medium text-gray-700">Wireless Connections</label>
          <select type="text" id="wirelessConnections" [(ngModel)]="wirelessConnections" name="wirelessConnections" class="form-control"
                  class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="" disabled></option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>

        <!-- Production Year Field -->
        <div>
          <label for="productionYear" class="block text-sm font-medium text-gray-700">Production Year</label>
          <input type="text" id="productionYear" [(ngModel)]="productionYear" name="productionYear" class="form-control"
                 class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- VESA Field -->
        <div>
          <label for="VESA" class="block text-sm font-medium text-gray-700">VESA</label>
          <select type="text" id="VESA" [(ngModel)]="VESA" name="VESA" class="form-control"
                  class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="" disabled></option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>

        <!-- Color Field -->
        <div>
          <label for="color" class="block text-sm font-medium text-gray-700">Color</label>
          <input type="text" id="color" [(ngModel)]="color" name="color" class="form-control"
                 class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- Price Field -->
        <div>
          <label for="price" class="block text-sm font-medium text-gray-700">Price</label>
          <input type="text" id="price" [(ngModel)]="price" name="price" required class="form-control"
                 class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- Stock Date Field -->
        <div>
          <label for="stockDate" class="block text-sm font-medium text-gray-700">Stock Date</label>
          <input type="text" id="stockDate" [(ngModel)]="stockDate" name="stockDate" required class="form-control"
                 class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

      </div>
      <!-- Confirmation Button at the bottom -->
      <div class="text-center mt-8">
        <button type="button" (click)="confirmEdit()"
                class="w-full py-2 px-4 bg-blue-500 text-white font-bold rounded hover:bg-green-600 transition duration-300">
          Save Changes
        </button>
      </div>

    </form>

    <div *ngIf="showConfirmation" class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center">
      <div class="bg-white p-6 rounded-lg shadow-xl">
        <h2 class="text-lg font-semibold mb-4 text-gray-900">Are you sure you want to save chagnes ?</h2>
        <div class="flex justify-end space-x-4">
          <button class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition duration-300" (click)="onConfirm(deviceForm)">Yes</button>
          <button class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition duration-300" (click)="onCancel()">No</button>
        </div>
      </div>
    </div>
  </div>
</div>

